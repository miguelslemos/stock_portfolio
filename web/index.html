<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'wasm-unsafe-eval'; 
                   style-src 'self' 'unsafe-inline'; 
                   connect-src 'self' https://olinda.bcb.gov.br; 
                   img-src 'self' data: blob:; 
                   font-src 'self'; 
                   object-src 'none'; 
                   base-uri 'self'; 
                   form-action 'self';" />
    <meta name="description" content="Sistema de gestÃ£o de portfÃ³lio de aÃ§Ãµes com cÃ¡lculo automÃ¡tico de impostos e relatÃ³rios detalhados" />
    <meta name="keywords" content="portfÃ³lio, aÃ§Ãµes, investimentos, imposto de renda, gestÃ£o financeira" />
    <title>GestÃ£o de PortfÃ³lio de AÃ§Ãµes do NU | Stock Portfolio Manager</title>
    <link rel="stylesheet" href="/src/presentation/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸ“ˆ Stock Portfolio Management</h1>
        <p>Acompanhe suas operaÃ§Ãµes de aÃ§Ãµes da NU e gere relatÃ³rios de imposto automaticamente</p>
        <div class="privacy-notice">
          <span class="privacy-icon">ğŸ”’</span>
          <span class="privacy-text">
            <strong>100% Privado e Seguro:</strong> Todos os PDFs sÃ£o processados localmente no seu navegador. 
            Apenas cotaÃ§Ãµes PTAX sÃ£o consultadas externamente. Seus dados nunca sÃ£o enviados ou armazenados.
          </span>
        </div>
      </header>

      <main>
        <section class="upload-section" id="upload-section">
          <h2>ğŸ“ Carregar Dados do PortfÃ³lio</h2>

          <div class="upload-group">
            <label for="release-pdfs">
              ğŸ“ˆ PDFs de ConfirmaÃ§Ã£o de Vesting
              <span class="label-hint">Arquivos individuais ou pasta completa</span>
            </label>
            <div class="file-input-wrapper">
              <input 
                type="file" 
                id="release-pdfs" 
                accept=".pdf" 
                multiple 
                webkitdirectory 
                directory 
                class="hidden-input" 
                aria-label="Selecionar PDFs de confirmaÃ§Ã£o de vesting" 
              />
              <button 
                type="button" 
                id="release-btn" 
                class="file-select-btn" 
                aria-label="Escolher arquivos ou pasta de vesting"
              >
                ğŸ“„ Escolher Arquivos ou Pasta
              </button>
              <span id="release-count" class="file-count" role="status" aria-live="polite"></span>
            </div>
            <small>
              ğŸ’¡ <strong>Dica:</strong> Selecione a pasta que contÃ©m todos os PDFs de vesting. 
              O sistema processarÃ¡ automaticamente todos os arquivos, incluindo subpastas.
            </small>
          </div>

          <div class="upload-group">
            <label for="trade-pdfs">
              ğŸ“‰ PDFs de ConfirmaÃ§Ã£o de Venda (Trade)
              <span class="label-hint">Arquivos individuais ou pasta completa</span>
            </label>
            <div class="file-input-wrapper">
              <input 
                type="file" 
                id="trade-pdfs" 
                accept=".pdf" 
                multiple 
                webkitdirectory 
                directory 
                class="hidden-input" 
                aria-label="Selecionar PDFs de confirmaÃ§Ã£o de venda" 
              />
              <button 
                type="button" 
                id="trade-btn" 
                class="file-select-btn" 
                aria-label="Escolher arquivos ou pasta de vendas"
              >
                ğŸ“„ Escolher Arquivos ou Pasta
              </button>
              <span id="trade-count" class="file-count" role="status" aria-live="polite"></span>
            </div>
            <small>
              ğŸ’¡ <strong>Dica:</strong> Selecione a pasta que contÃ©m todos os PDFs de vendas. 
              Todas as subpastas serÃ£o processadas recursivamente.
            </small>
          </div>

          <div class="upload-group">
            <label for="json-file">
              ğŸ“ Arquivo JSON de OperaÃ§Ãµes
              <span class="label-hint">Opcional - Para operaÃ§Ãµes manuais</span>
            </label>
            <input 
              type="file" 
              id="json-file" 
              accept=".json" 
              aria-label="Selecionar arquivo JSON de operaÃ§Ãµes" 
            />
            <small>
              â„¹ï¸ Use este campo para adicionar operaÃ§Ãµes manualmente via JSON. 
              Ãštil para importar dados de outras fontes ou fazer ajustes.
            </small>
          </div>

          <div class="button-group">
            <button 
              id="process-btn" 
              class="primary" 
              disabled 
              aria-label="Processar dados do portfÃ³lio"
            >
              âš¡ Processar PortfÃ³lio
            </button>
            <button 
              id="export-btn" 
              class="primary" 
              disabled 
              aria-label="Processar portfÃ³lio e exportar para CSV"
            >
              ğŸ“Š Processar e Exportar CSV
            </button>
            <button 
              id="clear-btn" 
              class="secondary" 
              aria-label="Limpar todos os dados carregados"
            >
              ğŸ—‘ï¸ Limpar Tudo
            </button>
          </div>
        </section>

        <section class="reset-section" id="reset-section" style="display: none;">
          <button id="reset-btn" class="reset-button">
            <span class="reset-icon">ğŸ”„</span>
            <span class="reset-text">
              <strong>Processar Novos Dados</strong>
              <small>Limpar resultados atuais e recomeÃ§ar</small>
            </span>
          </button>
        </section>

        <section 
          id="results" 
          role="region" 
          aria-live="polite" 
          aria-label="Resultados do processamento"
        ></section>
      </main>

      <footer style="text-align: center; padding: 24px; color: #6b7280; font-size: 0.875rem; border-top: 1px solid #e5e7eb;">
        <p>
          <strong>Stock Portfolio Manager</strong> â€¢ 
          Sistema de cÃ³digo aberto para gestÃ£o de investimentos
        </p>
        <p style="margin-top: 8px; opacity: 0.8;">
          Desenvolvido com ğŸ’™
        </p>
      </footer>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
